{% block sw_cms_element_shoppable_image_config %}
<div class="sw-cms-el-config-shoppable-image">
    <sw-media-field
        :value="element.config.media.value"
        @update:value="onMediaInput"
        :allow-multi-select="false"
    />

    <div class="shoppable-image-editor" v-if="element.config.media.value">
        <div class="shoppable-image-editor__image-wrapper" ref="imageWrapper" @click="onImageClick">
            <img v-if="previewSource" :src="previewSource.url" alt="Shoppable Image Preview" style="max-width: 100%; height: auto; display: block; margin: 0 auto;"/>
            <div v-for="(hotspot, index) in element.config.hotspots.value"
                 :key="hotspot.id"
                 class="shoppable-image-editor__hotspot"
                 :style="{ left: hotspot.positionX + '%', top: hotspot.positionY + '%' }">
                <sw-icon name="regular-circle" size="16px"></sw-icon>
            </div>
        </div>

        <div class="shoppable-image-editor__hotspots-list">
            <div v-for="(hotspot, index) in element.config.hotspots.value" :key="hotspot.id" class="hotspot-config">
                <label>Hotspot {{ index + 1 }}</label>
                <sw-entity-single-select
                    :key="hotspot.id"
                    :value="hotspot.productId"
                    @update:value="onHotspotProductChange($event, hotspot.id)"
                    entity="product"
                    label="Przypisane produkty">
                </sw-entity-single-select>
                <sw-button-group>
                    <sw-button size="small" @click="removeHotspot(hotspot.id)">
                        <sw-icon name="regular-trash"></sw-icon>
                    </sw-button>
                </sw-button-group>
            </div>
        </div>
    </div>

        <hr class="sw-cms-el-config-shoppable-image__divider">

        <!-- Debug info -->
        <div style="background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 4px;">
            <strong>Debug:</strong> Current roomCategory value: {{ element.config.roomCategory.value }}<br>
            <strong>Debug:</strong> roomCategory exists: {{ element.config.roomCategory ? 'yes' : 'no' }}
        </div>

        <sw-select-field
            label="Rodzaj pokoju"
            :value="element.config.roomCategory.value"
            @update:value="onRoomCategoryChange">
            <option value="all">Wszystkie</option>
            <option value="living-room">Salon</option>
            <option value="dining-room">Jadalnia</option>
            {# Tutaj możesz dodać więcej opcji w przyszłości #}
        </sw-select-field>
</div>
{% endblock %}